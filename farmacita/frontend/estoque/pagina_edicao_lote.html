{% extends 'template/padrao.html' %}

{% load static %}

{%block titulo %}
Lotes Cadastrados
{% endblock %}

{%block titulo-conteudo %}
Estoque de Medicamentos
{% endblock %}

{% block content %}

<style>
    .centro{
        text-align: center;            
    }
    .botao{
        margin-bottom:6px;
    }
</style>  

<!-- <div class="row formulario">
    <div class="col-sm-12">
        <div>
            <form method="GET">
                <div class="input-group-prepend">
                    <input type="text" class="form-control" placeholder="Nome" name="buscalote" id="buscalote">
                <button class="btn btn-outline-secondary" type="submit" id="button-addon1">Buscar</button>
                </div>
                </form>
        </div>
    </div>
</div> -->

<div class="tabela">
    <div style="display:flex;justify-content:center;align-items:center;">      
    <table id="lotes" class="table table-hover">
        <thead class="table-info">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Medicamento</th>
                <th scope="col">Fornecedor</th>
                <th scope="col">Pre√ßo</th>
                <th scope="col">Qtd. Caixas</th>
                <th scope="col">Qtd. por Caixa</th>
                <th scope="col">Dosagem</th>
                <th scope="col">Ind. Farmaceutica</th>
                <th scope="col">Data de Validade</th>
                <th>Excluir</th>
            </tr>
        </thead> 
        <tbody>
       
        {% for i in lista %}
        {% if not i.excluido %}                      
            <tr class={{i.id_lote_medicamento}}>
                <th scope="row">{{i.id_lote_medicamento}}</th>
                <td class = "nome_medicamento">{{i.id_medicamento.nome_medicamento}}</td>
                <td class = "nome_fornecedor">{{i.id_fornecedor.nome_fornecedor}}</td>
                <td class = "preco">{{i.preco}}</td>
                <td class = "qtd_caixas">{{i.quantidade_de_caixas}}</td>
                <td class = "qtd_caixas">{{i.quantidade_por_caixa}}</td>
                <td class = "qtd_caixas">{{i.dosagem}}</td>
                <td class = "qtd_caixas">{{i.industria_farmaceutica}}</td>
                <td class = "qtd_caixas" data-sort='{{i.data_de_validade|date:"U"}}'>{{i.data_de_validade}}</td>
               
                <td>
                    <form class= "centro">

                        <button  value = {{i.id_lote_medicamento}} name = 'delete' class="btn btn-danger botao" type = "submit"><i class="fas fa-trash-alt"></i></button>                                                                       
                    </form>                        
                </td>
            </tr>
            
        {% endif %}    
        {% endfor %}
    </tbody>

    </table>
    </div>
    
</div>
        
    


</div>

<script>
$(document).ready(function() {
    var lotes = $('#lotes').dataTable({
        "columnDefs": [
            { 
                type: "html",
                target: 0,
            },
            {"className": "dt-center", "targets": "_all"}
                
        ],
        

        "language": {
            "url": "https://cdn.datatables.net/plug-ins/1.10.24/i18n/Portuguese-Brasil.json"
        },
        // "scrollY":        "200px",
        // "scrollCollapse": true,
        "paging": true
    });

} );
</script>
<style>th, td { white-space: nowrap; }</style>

<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">


{% endblock %}